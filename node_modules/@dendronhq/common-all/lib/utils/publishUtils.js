"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.PublishUtils = void 0;
const path_1 = __importDefault(require("path"));
const intermediateConfigs_1 = require("../types/intermediateConfigs");
const index_1 = require("./index");
class PublishUtils {
    static getPublishFM(note) {
        if (!note.custom) {
            return {};
        }
        return note.custom;
    }
    static getSEOPropsFromConfig(config) {
        if ((0, intermediateConfigs_1.configIsV4)(config)) {
            const { title, twitter, description, image } = index_1.ConfigUtils.getSite(config);
            return { title, twitter, description, image };
        }
        else {
            const { title, twitter, description, image } = index_1.ConfigUtils.getPublishing(config).seo;
            return { title, twitter, description, image };
        }
    }
    static getSEOPropsFromNote(note) {
        const { title, created, updated, image, desc } = note;
        const { excerpt, canonicalUrl, noindex, canonicalBaseUrl, twitter } = note.custom ? note.custom : {};
        return {
            title,
            excerpt,
            description: excerpt || desc || undefined,
            updated,
            created,
            canonicalBaseUrl,
            canonicalUrl,
            noindex,
            image,
            twitter,
        };
    }
    /**
     * Path to the banner alert compoenent
     */
    static getCustomSiteBannerPathFromWorkspace(wsRoot) {
        return path_1.default.join(wsRoot, "publish", "components", "BannerAlert.tsx");
    }
    static getCustomSiteBannerPathToPublish(publishRoot) {
        return path_1.default.join(publishRoot, "custom", "BannerAlert.tsx");
    }
    /**
     * Site banner uses a custom react component
     */
    static hasCustomSiteBanner(config) {
        return index_1.ConfigUtils.getPublishing(config).siteBanner === "custom";
    }
}
exports.PublishUtils = PublishUtils;
//# sourceMappingURL=publishUtils.js.map